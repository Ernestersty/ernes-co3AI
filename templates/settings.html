{% extends "base.html" %}

{% block title %}Settings | ERNESCO AI{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto space-y-8 animate-[fadeIn_0.5s_ease]">
    
    <div class="mb-8">
        <h1 class="text-3xl font-black text-white tracking-tight">{{ t.sett }}</h1>
        <p class="text-slate-400 text-sm mt-1">Customize how ERNESCO interacts with your emails.</p>
    </div>

    <form action="{{ url_for('settings') }}" method="POST" class="space-y-6">
        <div class="bg-[#1e293b] p-8 rounded-3xl shadow-2xl border border-slate-700 space-y-8">
            
            <div class="space-y-4">
                <label class="flex items-center gap-2 text-sm font-bold text-slate-300 uppercase tracking-widest">
                    <i class="fas fa-globe-americas text-blue-400"></i> App Language
                </label>
                <div class="relative">
                    <select name="language" class="w-full bg-[#0f172a] border border-slate-700 text-slate-200 text-sm rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 block p-4 appearance-none cursor-pointer transition-all hover:border-slate-500">
                        <option value="en" {% if session.language == 'en' %}selected{% endif %}>ğŸ‡ºğŸ‡¸ English</option>
                        <option value="sw" {% if session.language == 'sw' %}selected{% endif %}>ğŸ‡¹ğŸ‡¿ Kiswahili</option>
                        <option value="fr" {% if session.language == 'fr' %}selected{% endif %}>ğŸ‡«ğŸ‡· FranÃ§ais</option>
                        <option value="es" {% if session.language == 'es' %}selected{% endif %}>ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                        <option value="de" {% if session.language == 'de' %}selected{% endif %}>ğŸ‡©ğŸ‡ª Deutsch</option>
                        <option value="zu" {% if session.language == 'zu' %}selected{% endif %}>ğŸ‡¿ğŸ‡¦ isiZulu</option>
                        <option value="ru" {% if session.language == 'ru' %}selected{% endif %}>ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                        <option value="it" {% if session.language == 'it' %}selected{% endif %}>ğŸ‡®ğŸ‡¹ Italiano</option>
                        <option value="ur" {% if session.language == 'ur' %}selected{% endif %}>ğŸ‡µğŸ‡° Ø§Ø±Ø¯Ùˆ (Urdu)</option>
                        <option value="ar" {% if session.language == 'ar' %}selected{% endif %}>ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Arabic)</option>
                        <option value="ms" {% if session.language == 'ms' %}selected{% endif %}>ğŸ‡²ğŸ‡¾ Bahasa Melayu</option>
                        <option value="hi" {% if session.language == 'hi' %}selected{% endif %}>ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€ (Hindi)</option>
                        <option value="ko" {% if session.language == 'ko' %}selected{% endif %}>ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
                        <option value="zh" {% if session.language == 'zh' %}selected{% endif %}>ğŸ‡¨ğŸ‡³ ä¸­æ–‡ (Chinese)</option>
                    </select>
                    <div class="absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none text-slate-500">
                        <i class="fas fa-chevron-down text-xs"></i>
                    </div>
                </div>
            </div>

            <div class="space-y-4">
                <label class="flex items-center gap-2 text-sm font-bold text-slate-300 uppercase tracking-widest">
                    <i class="fas fa-comment-dots text-emerald-400"></i> Response Tone
                </label>
                <input type="hidden" name="tone" id="toneInput" value="{{ session.get('tone', 'professional') }}">
                
                <div class="grid grid-cols-2 bg-[#0f172a] p-1.5 rounded-2xl border border-slate-800 gap-2">
                    <button type="button" 
                            id="btn-professional"
                            onclick="setTone('professional', this)" 
                            class="tone-btn py-3 px-4 rounded-xl text-sm font-bold transition-all {% if session.get('tone') != 'friendly' %}bg-slate-800 text-white shadow-lg border border-slate-700{% else %}text-slate-500 hover:text-slate-300{% endif %}">
                        Professional
                    </button>
                    <button type="button" 
                            id="btn-friendly"
                            onclick="setTone('friendly', this)" 
                            class="tone-btn py-3 px-4 rounded-xl text-sm font-bold transition-all {% if session.get('tone') == 'friendly' %}bg-slate-800 text-white shadow-lg border border-slate-700{% else %}text-slate-500 hover:text-slate-300{% endif %}">
                        Friendly
                    </button>
                </div>
            </div>

            <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-black py-4 rounded-2xl shadow-xl shadow-blue-900/40 transition-all active:scale-95 uppercase tracking-widest text-xs">
                Save All Changes
            </button>
        </div>
    </form>
</div>

<script>
    function setTone(val, btn) {
        document.getElementById('toneInput').value = val;
        
        // Remove active styles from all buttons
        document.querySelectorAll('.tone-btn').forEach(b => {
            b.classList.remove('bg-slate-800', 'text-white', 'shadow-lg', 'border', 'border-slate-700');
            b.classList.add('text-slate-500');
        });
        
        // Add active styles to clicked button
        btn.classList.add('bg-slate-800', 'text-white', 'shadow-lg', 'border', 'border-slate-700');
        btn.classList.remove('text-slate-500');
    }
</script>

<style>
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
</style>
{% endblock %}
